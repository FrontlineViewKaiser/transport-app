<div class="searchbar">
  <button mat-fab color="primary" aria-label="Example icon button with a delete icon" (click)="filterSelect = !filterSelect">
    <mat-icon *ngIf="!filterSelect">filter_alt</mat-icon>
    <mat-icon *ngIf="filterSelect">filter_alt_off</mat-icon>
  </button>
  

  <input type="text" placeholder="Search..." [(ngModel)]="searchQuery" (keyup)="search()">
</div>


<div class="filters" *ngIf="filterSelect">
  <mat-form-field>
    <mat-label>Shipping from</mat-label>
    <mat-select multiple [(ngModel)]="selectedLocationFrom" (selectionChange)="filterSuppliers()">
      <mat-option *ngFor="let location of loginService.locationsEU" [value]="location">{{
        location
        }}</mat-option>
    </mat-select>
  </mat-form-field>
  <mat-form-field>
    <mat-label>Shipping to</mat-label>
    <mat-select multiple [(ngModel)]="selectedLocationTo" (selectionChange)="filterSuppliers()">
      <mat-option *ngFor="let location of loginService.locationsUA" [value]="location">{{
        location
        }}</mat-option>
    </mat-select>
  </mat-form-field>

  <!-- <mat-form-field>
    <mat-label>Shipping from</mat-label>
    <mat-select multiple [(ngModel)]="selectedVehicles" (selectionChange)="filterSuppliers()">
      <mat-option *ngFor="let vehicle of loginService.vehicles" [value]="vehicle">{{
        vehicle
        }}</mat-option>
    </mat-select>
  </mat-form-field> -->

  <mat-form-field>
    <mat-label>Shipping from</mat-label>
    <mat-select multiple [(ngModel)]="selectedGoods" (selectionChange)="filterSuppliers()">
      <mat-option *ngFor="let goods of loginService.goods" [value]="goods">{{
        goods
        }}</mat-option>
    </mat-select>

  </mat-form-field>
</div>


<div class="wrapper">
  <mat-card class="supplier-card" *ngFor="let supplier of suppliers">
    <mat-card-header class="header" (click)="openDialog(DetailDialogue)">
      <mat-card-title>{{supplier.profile.name}}</mat-card-title>
    </mat-card-header>
    <img (click)="openDialog(DetailDialogue)" src="assets/img/1672319267903.jpg" alt="">
    <mat-card-content (click)="openDialog(DetailDialogue)">
      <h3>Needs Shipping from:</h3>
      <p *ngFor="let from of supplier.profile.from">{{ from }}</p>
      <h3>Needs Shipping to:</h3>
      <p *ngFor="let to of supplier.profile.to">{{ to }}</p>
      <h3>Shipping of:</h3>
      <p *ngFor="let good of supplier.profile.goods">{{ good }}</p>
    </mat-card-content>
    <mat-card-actions class="buttons">
      <button (click)="openDialog(ContactDialogue)">
        <mat-icon>call</mat-icon>
      </button>
      <button>
        <mat-icon>stars</mat-icon>
      </button>
    </mat-card-actions>
  </mat-card>
</div>